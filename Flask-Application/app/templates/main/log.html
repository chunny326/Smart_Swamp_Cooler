{% extends "base.html" %}
<meta charset="utf-8">
{% block header %}
<title>Chart.js </title>

<!-- import plugin script -->
<script src="static/Chart.min.js"></script>

{% endblock %}

{% block content %}
<section id="log">
    <!-- <div class="container py-5 mx-auto">
        <div class="row">
            <div class="col-2">
                <div class="graphTabs">
                    <button class="btn btn-info mb-2" onclick="generateGraph('Day')">Day</button> <br>
                    <button class="btn btn-info my-2" onclick="generateGraph('Week')">Week</button>  <br>
                    <button class="btn btn-info my-2" onclick="generateGraph('Month')">Month</button> <br>
                    <button class="btn btn-info mt-2" onclick="generateGraph('Custom')">Custom</button>
                </div>
            </div>
            <div class="col-8">
                bar chart canvas element -->
                <!-- <canvas id="temperatureChart" width="550" height="250"></canvas>
                <canvas id="humidityChart" width="550" height="250"></canvas>

            </div>
            <div class="col-2">
                <a href="{{url_for('index')}}" class="btn btn-secondary mt-2 align-bottom">Back</a>
            </div>
        </div> -->
        
    <!-- </div> -->
</section>


<!-- <script>
    Chart.defaults.global.animationSteps = 50;
    Chart.defaults.global.tooltipYPadding = 16;
    Chart.defaults.global.tooltipCornerRadius = 0;
    Chart.defaults.global.tooltipTitleFontStyle = "normal";
    Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
    Chart.defaults.global.animationEasing = "easeOutBounce";
    Chart.defaults.global.responsive = false;
    Chart.defaults.global.scaleLineColor = "black";
    Chart.defaults.global.scaleFontSize = 16;
        
    // Data from JSON
    //var jsondata = {{ data|tojson }}
    //window.onload = generateGraph(timeFrame = "");

    function generateGraph(timeFrame){

        var currentDate = new Date();
        console.log(currentDate.toString());

        var labelSet = [];

        if(timeFrame == "Day")
        {
            var endingHour = currentDate.getHours();

            for(i = 0; i < 24; i++)
                labelSet.push(endingHour - 24 - i);
        }
        else
        {
            labelSet = [0, 1, 2, 3, 4, 5, 6, 7, 8]
        }

        // else if(timeFrame == "Week")
        // {
        //     endDay = date.getDay();
        //     for(i = 0; i < 7; i++)
        //         labels.push(date )
        // }
        
        var temperatureChartData = {
            labels : labelSet,
            datasets : [
            //Inside Temperature Sensor
            {
                label: "Inside Temperature",
                backgroundColor: "rgba(12, 159, 243, 0.4)",
                borderColor: "rgba(12, 159, 243, 0.3)",
                fill: false,
                bezierCurve : false,
                data : [2, 3, 4, 7, 6, 8, 9]
            },
            //Outside Temperature Sensor
            {
                label: "Outside Temperature",
                backgroundColor: "rgba(12, 159, 243, 1)",
                borderColor: "rgba(12, 159, 243, 0.8)",
                fill: false,
                bezierCurve : false,
                data : [1, 2, 3, 4, 5, 6]
            }]
        }

        var humidityChartData = {
            labels : labelSet,
            datasets : [
            //Inside Humidity Sensor
            {
                label: "Inside Humidity",
                backgroundColor: "rgba(255,165,0, 1)",
                borderColor:"rgba(255,165,0, 0.9)",
                fill: false,
                bezierCurve : false,
                data : [0,0,0,29,30,28,20, 10]
            },
            //Outside Humidity Sensor
            {
                label: "Outside Humidity",
                backgroundColor: "rgba(255,165,0, 0.4)",
                borderColor:"rgba(255,165,0, 0.3)",
                fill: false,
                bezierCurve : false,
                data : [6,5,4,3,2,1,0,-1]
            }]
        }

        //Get graph canvases
        var temperatureGraph = document.getElementById("temperatureChart").getContext("2d");
        var humidityGraph = document.getElementById("humidityChart").getContext("2d");

        steps = 10
        max = 10

        // draw line graphs
        var LineChartDemo = new Chart(temperatureGraph, {
            type: 'line',
            data: temperatureChartData,
            fill: false,
            scaleOverride: true,
            scaleSteps: steps,
            scaleStepWidth: Math.ceil(max / steps),
            scaleStartValue: 0,
            scaleShowVerticalLines: true,
            scaleShowGridLines : true,
            barShowStroke : true,
            scaleShowLabels: true,
            bezierCurve: false,
        });

        var LineChartDemo = new Chart(humidityGraph, {
            type: 'line',
            data: humidityChartData,
            fill: false,
            scaleOverride: true,
            scaleSteps: steps,
            scaleStepWidth: Math.ceil(max / steps),
            scaleStartValue: 0,
            scaleShowVerticalLines: true,
            scaleShowGridLines : true,
            barShowStroke : true,
            scaleShowLabels: true,
            bezierCurve: false,
        });
        
    }

</script> -->
{% endblock %}


